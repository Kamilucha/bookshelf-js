{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,0T,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FC,EAAiB,IAAAN,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FE,EAAiB,IAAAP,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FG,EAAiB,IAAAR,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FI,EAAiB,IAAAT,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCI5F,MAAMK,mBAAEC,EAAkBC,iBACxBC,EAAgBC,eAChBC,EAAcC,aACdC,EAAYC,mBACZC,GCPO,CAGLT,mBAAoB,IAAAV,IAAAD,GAGfqB,KAGLR,iBAAkB,IAAAZ,IAAAM,GACfc,KAGHN,eAAgB,IAAAd,IAAAO,GAA+Da,KAG/EF,mBAAoB,IAAAlB,IAAAQ,GACjBY,KAGHJ,aAAY,IAAAhB,IAAAS,IDT2C,IAAvDY,EAAkBC,aAAaC,QAAQ,SAC3CF,EAAkBA,EAAkBxB,KAAKC,MAAMuB,GAAmB,GAIjDG,KAAKC,KAAKJ,EAAgB9B,OAD1B,GAKQ8B,EAAgBK,MAHxB,EACFC,GAKK,SAAXC,EAAYC,GACnB,OAAOA,EACJC,KAAI,EAACC,IAAEA,EAAGC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,EAAWC,UAAEA,EAASC,WAAEA,EAAUC,mBAAEA,EAC5DC,WAAYC,EAAOC,MACd,wHAEqCJ,WAAoBJ,6GAGxBA,yDACEG,uHAGGD,+GAGLD,iNAMOI,+JACwBtB,8LAIxBwB,EAAMnC,qKACiBO,6KAIvB6B,EAASpC,sKACkBS,wLAMNkB,qGACtBA,wDACzBd,gGAMtBwB,KAAK,G,CAQJpB,EAAgB9B,OAAS,GAC3BmD,OAAOC,OAAS,WACdf,EAAYP,EAAgBK,MAAM,EAjEvB,G,EAmEbgB,OAAOE,SAAW,WAChBhB,EAAYP,EAAgBK,MAAM,EApEvB,G,GAuEbmB,YAAYC,UAAY,gNAKsB3B,0FAEAA","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3216f9b7e12248a7.js","node_modules/@parcel/runtime-js/lib/runtime-61ae46841e51226b.js","node_modules/@parcel/runtime-js/lib/runtime-449f64e070162a87.js","node_modules/@parcel/runtime-js/lib/runtime-74574cac2b08b7f9.js","node_modules/@parcel/runtime-js/lib/runtime-276cf21f0023f2b1.js","node_modules/@parcel/runtime-js/lib/runtime-f3158adaedfb9f94.js","src/js/shopping-list.js","src/js/shop-refs.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.dee6a781.js\\\",\\\"14R9o\\\":\\\"apple-books.652b354e.png\\\",\\\"5buYK\\\":\\\"book-shop.1d091ebd.png\\\",\\\"3NWVH\\\":\\\"amazon.626c9508.png\\\",\\\"iBhy2\\\":\\\"shoppingbook1.6c062fbc.png\\\",\\\"aKCGF\\\":\\\"symbol-defs.7e6ae637.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"14R9o\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5buYK\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3NWVH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iBhy2\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aKCGF\")).toString();","// Import Image, svg\nimport getIconPath from './shop-refs'\n// const bookElList = document.querySelector('.shoplist-add');\n// const listIsEmpty = document.querySelector('.shoplist-empty');\nconst { appleBooksIconPath,\n  bookShopIconPath,\n  amazonIconPath,\n  svgTrashIcon,\n  emptyListStubImage,\n} = getIconPath();\n// Получаем значение из хранилища по ключу (по id) и преобразовываем в массив\n\nlet booksInShopList = localStorage.getItem('books');\nbooksInShopList = booksInShopList ? JSON.parse(booksInShopList) : [];\n\nlet currentPage = 1;\nlet numberPage = 3;\nlet totalPages = Math.ceil(booksInShopList.length / numberPage);\nlet startIndex = (currentPage - 1) * numberPage;\nlet endIndex = startIndex + numberPage;\n\nlet allBooksInShopList = booksInShopList.slice(startIndex, endIndex);\n// Нужно написать функцию renderBooks\n\nfunction renderBooks(allBooksInShopList) {\n  return allBooksInShopList\n    .map(({ _id, title, author, description, list_name, book_image, amazon_product_url,\n        buy_links: [apple, bookshop], }) => {\n      return `<article class=\"shopping__card\">\n          <div class=\"about-img\">\n            <img class=\"shopping-card-img\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"about-title\">\n            <h3 class=\"shopping-card-title\">${title}</h3>\n            <p class=\"shopping-card-category\">${list_name}</p>\n          </div>\n         <div class=\"about-description\">\n            <p class=\"shopping-card-description\">${description}</p>\n          </div >\n          <div class=\"about-author\">\n            <p class=\"shopping-card-author\">${author}</p>\n          </div>\n\n          <div class=\"shoplist-url\">\n            <ul class=\"shoplist-url-list\">\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n                  <img class=\"modal-shop-img shopping-shopimg amazon\" src=\"${amazonIconPath}\" alt=\"Amazon link\" alt=\"Amazon live page\"/>\n                </a>\n              </li>\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${apple.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Apple Books link\">\n                  <img class=\"modal-shop-img shopping-shopimg apple\" src=\"${appleBooksIconPath}\" alt=\"Apple Books link\" />\n                </a>\n              </li>\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${bookshop.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"BookShop link\">\n                  <img class=\"modal-shop-img shopping-shopimg book-shop\" src=\"${bookShopIconPath}\" alt=\"BookShop link\" />\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <button class=\"shopping-card-btn\" type=\"button\" data-book-id=\"${_id} aria-label=\"Remove book from shopping list\">\n            <svg class=\"icon-trash\" data-book-id=\"${_id}\" width=\"17\" height=\"17\">\n              <use href=\"${svgTrashIcon}#icon-trash\"></use>\n            </svg>\n          </button>\n        </article>\n        `;\n    })\n    .join('');\n}\n\n//  Код проверяет условия, по которым будут отображаться книги.\n// Если booksInShopList будет равен нулю, то список покупок будет пуст.\n// В таком случае будет соответсвующая разметка с сообщением, что список покупок пуст.\n\nfunction isEmpty() {\n  if (booksInShopList.length > 0) {\n    window.onload = function () {\n      renderBooks(booksInShopList.slice(0, numberPage));\n    };\n    window.onresize = function () {\n      renderBooks(booksInShopList.slice(0, numberPage));\n    };\n  } else {\n    listIsEmpty.innerHTML = `\n      <div class=\"shop-card-empty\">\n      <p class=\"shop-card-empty-text\">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <img class=\"shop-card-empty-picture\" src=\"${emptyListStubImage}\" alt=\"Shop is Empty\">\n      </div>\n      <img class=\"shop-card-empty-picture\" src=\"${emptyListStubImage}\" alt=\"Shop is Empty\">\n      </div>\n    `;\n  }\n}\n\nisEmpty();\n\nfunction removeBook(bookId) {\n  const index = booksInShopList.findIndex(book => book._id === bookId);\n  if (index !== -1) {\n    booksInShopList.splice(index, 1);\n    renderBooks(booksInShopList);\n    localStorage.setItem('books', JSON.stringify(booksInShopList));\n  }\n}\n","export default function () {\n  return {\n    // Shoppin\n      //apple\n    appleBooksIconPath: new URL(\n      '../images/shopping-list/apple-books.png',\n        import.meta.url)\n        .href,\n      \n    //bookshop\n    bookShopIconPath: new URL('../images/shopping-list/book-shop.png', import.meta.url)\n      .href,\n\n    //amazon\n    amazonIconPath: new URL('../images/shopping-list/amazon.png', import.meta.url).href,\n\n    // Empty\n    emptyListStubImage: new URL('../images/shopping-list/shoppingbook1.png', import.meta.url)\n      .href,\n\n    // SVG\n    svgTrashIcon: new URL('../svgsprite/symbol-defs.svg#icon-trash', import.meta.url),\n  };\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$63634e72323e2760$exports","URL","resolve","import","meta","url","toString","$07910c40dbd283d7$exports","$269e92d6d507e6bc$exports","$81861b7036804eca$exports","$b76b442c9ce363bc$exports","appleBooksIconPath","$e5c62ffd1c5d842f$var$appleBooksIconPath","bookShopIconPath","$e5c62ffd1c5d842f$var$bookShopIconPath","amazonIconPath","$e5c62ffd1c5d842f$var$amazonIconPath","svgTrashIcon","$e5c62ffd1c5d842f$var$svgTrashIcon","emptyListStubImage","$e5c62ffd1c5d842f$var$emptyListStubImage","href","$e5c62ffd1c5d842f$var$booksInShopList","localStorage","getItem","Math","ceil","slice","$e5c62ffd1c5d842f$var$startIndex","$e5c62ffd1c5d842f$var$renderBooks","allBooksInShopList1","map","_id","title","author","description","list_name","book_image","amazon_product_url","buy_links","apple","bookshop","join","window","onload","onresize","listIsEmpty","innerHTML"],"version":3,"file":"shopping-list.dee6a781.js.map"}