{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCCnBT,aACAJ,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,GACrB,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,C,uCCNnC,aACAX,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA0BI,GACtB,GAAsB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOF,MAAMK,KAAKH,E,uCCNxH,aACAd,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,WACI,MAAM,IAAIQ,UAAU,6I,uCCNxB,aACAlB,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAAqCS,EAAGC,GACpC,IAAKD,EAAG,OACR,GAAiB,iBAANA,EAAgB,OAAOE,EAAuBX,QAAQS,EAAGC,GACpE,IAAIE,EAAItB,OAAOuB,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAG,GACzC,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MACvD,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOV,MAAMK,KAAKK,GAClD,GAAU,cAANA,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOD,EAAuBX,QAAQS,EAAGC,E,EAP1H,IASgCU,EAT5BT,GAS4BS,EATeC,EAAA,WAU7BD,EAAIE,WAAaF,EAAM,CACjCpB,QAASoB,E,sCChBjB,aACA9B,OAAOM,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA2BC,EAAKsB,IACjB,MAAPA,GAAeA,EAAMtB,EAAIT,UAAQ+B,EAAMtB,EAAIT,QAC/C,IAAI,IAAID,EAAI,EAAGiC,EAAO,IAAItB,MAAMqB,GAAMhC,EAAIgC,EAAKhC,IAAIiC,EAAKjC,GAAKU,EAAIV,GACjE,OAAOiC,C,uCCsCX,IAAAC,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BhC,GAC1B,IAAIM,EAAQ2B,EAAUjC,GAOtB,OALKM,IACHA,EAOJ,WACE,IACE,MAAM,IAAIJ,K,CACV,MAAOmC,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOJ,EAAWI,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRR,EAAUjC,GAAMM,GAGXA,C,KCZTsB,EAAA,SAAAc,SAA8CC,KAAKC,MAAM,0T,SCCzD/C,OAAOM,eAAe0C,EAAS,aAAc,CACzCvC,OAAO,IAEXuC,EAAQtC,QAKR,SAAwBC,EAAKV,GACzB,OAAOgD,EAAqBvC,QAAQC,IAAQuC,EAAsBxC,QAAQC,EAAKV,IAAMkD,EAAiCzC,QAAQC,EAAKV,IAAMmD,EAAsB1C,S,EALnK,IAAIuC,EAAkBI,EAAuBtB,EAAA,UACzCmB,EAAmBG,EAAuBtB,EAAA,UAC1CqB,EAAmBC,EAAuBtB,EAAA,UAC1CoB,EAA8BE,EAAuBtB,EAAA,UAIzD,SAASsB,EAAuBvB,GAC5B,OAAOA,GAAOA,EAAIE,WAAaF,EAAM,CACjCpB,QAASoB,E,OCdjBwB,EAAiBvB,EAAA,SAAAwB,aAA6C,SAAWxB,EAAA,SAAAyB,QAA6C,S,MCAtHC,EAAiB1B,EAAA,SAAAwB,aAA6C,SAAWxB,EAAA,SAAAyB,QAA6C,S,MCAtHE,EAAiB3B,EAAA,SAAAwB,aAA6C,SAAWxB,EAAA,SAAAyB,QAA6C,S,MCAtHG,EAAiB5B,EAAA,SAAAwB,aAA6C,SAAWxB,EAAA,SAAAyB,QAA6C,S,MCAtHI,EAAiB7B,EAAA,SAAAwB,aAA6C,SAAWxB,EAAA,SAAAyB,QAA6C,SCItH,IAKIK,ECRK,CAGLC,mBAAoB,IAAAC,IAAAT,GAGfU,KAGLC,iBAAkB,IAAAF,IAAAN,GACfO,KAGHE,eAAgB,IAAAH,IAAAL,GAA+DM,KAG/EG,mBAAoB,IAAAJ,IAAAJ,GACjBK,KAGHI,aAAY,IAAAL,IAAAH,IDjBRS,EAKJR,EALIC,mBACNQ,EAIET,EAJFI,iBACAM,EAGEV,EAHFK,eACAM,EAEEX,EAFFO,aACAK,EACEZ,EADFM,mBAIEO,EAAkBC,aAAaC,QAAQ,SAC3CF,EAAkBA,EAAkB5B,KAAKC,MAAM2B,GAAmB,GAIjDG,KAAKC,KAAKJ,EAAgBxE,OAD1B,GAKQwE,EAAgBhD,MAHxB,EACFqD,GAKK,SAAXC,EAAYC,GACnB,OAAOA,EACJC,KAAI,SAAAC,G,IAAGC,EAAGD,EAAHC,IAAKC,EAAKF,EAALE,MAAOC,EAAMH,EAANG,OAAQC,EAAWJ,EAAXI,YAAaC,EAASL,EAATK,UAAWC,EAAUN,EAAVM,WAAYC,EAAkBP,EAAlBO,mBAAkBC,EAAAC,EAAA5C,EAAA,CAAAmC,EAC9EU,UAAS,GAAGC,EAAKH,EAAA,GAAEI,EAAQJ,EAAA,GAC7B,MAAO,wHAEyDK,OAApBP,EAAW,WAGfO,OAHwBX,EAAM,6GAI5BW,OADFX,EAAM,yDAIDW,OAHHR,EAAU,uHAMZQ,OAHKT,EAAY,+GASVS,OANPV,EAAO,iNAOwBU,OADxBN,EAAmB,+JAKnBM,OAJwBzB,EAAe,8LAKhByB,OADvBF,EAAMxD,IAAI,mKAKV0D,OAJuB3B,EAAmB,6KAKf2B,OAD3BD,EAASzD,IAAI,oKAOQ0D,OANM1B,EAAiB,wLAO7C0B,OADsBZ,EAAI,qGAEnDY,OADyBZ,EAAI,wDAChBY,OAAbxB,EAAa,6F,IAMnCyB,KAAK,G,CAQJvB,EAAgBxE,OAAS,GAC3BgG,OAAOC,OAAS,WACdnB,EAAYN,EAAgBhD,MAAM,EAjEvB,G,EAmEbwE,OAAOE,SAAW,WAChBpB,EAAYN,EAAgBhD,MAAM,EApEvB,G,GAuEb2E,YAAYC,UAAY,gNAOsBN,OAFAvB,EAAmB,0FAEAuB,OAAnBvB,EAAmB,6C","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-32fe2b5d4af70ac0.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","node_modules/@parcel/runtime-js/lib/runtime-a98e45024bb2c0de.js","node_modules/@parcel/runtime-js/lib/runtime-dce7e2e5df39c1b1.js","node_modules/@parcel/runtime-js/lib/runtime-b0f244935da0e5bb.js","node_modules/@parcel/runtime-js/lib/runtime-cdb7eba1822909d8.js","node_modules/@parcel/runtime-js/lib/runtime-281711bba8705690.js","src/js/shopping-list.js","src/js/shop-refs.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jSFKT\\\":\\\"shopping-list.84e1f9aa.js\\\",\\\"83Qib\\\":\\\"apple-books.652b354e.png\\\",\\\"W2dqH\\\":\\\"book-shop.1d091ebd.png\\\",\\\"cPcuO\\\":\\\"amazon.626c9508.png\\\",\\\"kximP\\\":\\\"shoppingbook1.6c062fbc.png\\\",\\\"dgpkD\\\":\\\"symbol-defs.7e6ae637.svg\\\"}\"));","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"83Qib\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"W2dqH\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"cPcuO\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"kximP\");","module.exports = require('./helpers/bundle-url').getBundleURL('jSFKT') + require('./helpers/bundle-manifest').resolve(\"dgpkD\");","// Import Image, svg\nimport getIconPath from './shop-refs'\n// const bookElList = document.querySelector('.shoplist-add');\n// const listIsEmpty = document.querySelector('.shoplist-empty');\nconst { appleBooksIconPath,\n  bookShopIconPath,\n  amazonIconPath,\n  svgTrashIcon,\n  emptyListStubImage,\n} = getIconPath();\n// Получаем значение из хранилища по ключу (по id) и преобразовываем в массив\n\nlet booksInShopList = localStorage.getItem('books');\nbooksInShopList = booksInShopList ? JSON.parse(booksInShopList) : [];\n\nlet currentPage = 1;\nlet numberPage = 3;\nlet totalPages = Math.ceil(booksInShopList.length / numberPage);\nlet startIndex = (currentPage - 1) * numberPage;\nlet endIndex = startIndex + numberPage;\n\nlet allBooksInShopList = booksInShopList.slice(startIndex, endIndex);\n// Нужно написать функцию renderBooks\n\nfunction renderBooks(allBooksInShopList) {\n  return allBooksInShopList\n    .map(({ _id, title, author, description, list_name, book_image, amazon_product_url,\n        buy_links: [apple, bookshop], }) => {\n      return `<article class=\"shopping__card\">\n          <div class=\"about-img\">\n            <img class=\"shopping-card-img\" src=\"${book_image}\" alt=\"${title}\" />\n          </div>\n          <div class=\"about-title\">\n            <h3 class=\"shopping-card-title\">${title}</h3>\n            <p class=\"shopping-card-category\">${list_name}</p>\n          </div>\n         <div class=\"about-description\">\n            <p class=\"shopping-card-description\">${description}</p>\n          </div >\n          <div class=\"about-author\">\n            <p class=\"shopping-card-author\">${author}</p>\n          </div>\n\n          <div class=\"shoplist-url\">\n            <ul class=\"shoplist-url-list\">\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n                  <img class=\"modal-shop-img shopping-shopimg amazon\" src=\"${amazonIconPath}\" alt=\"Amazon link\" alt=\"Amazon live page\"/>\n                </a>\n              </li>\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${apple.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Apple Books link\">\n                  <img class=\"modal-shop-img shopping-shopimg apple\" src=\"${appleBooksIconPath}\" alt=\"Apple Books link\" />\n                </a>\n              </li>\n              <li class=\"shoplist-url-item\">\n                <a class=\"shoplist-url-link\" href=\"${bookshop.url}\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"BookShop link\">\n                  <img class=\"modal-shop-img shopping-shopimg book-shop\" src=\"${bookShopIconPath}\" alt=\"BookShop link\" />\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <button class=\"shopping-card-btn\" type=\"button\" data-book-id=\"${_id} aria-label=\"Remove book from shopping list\">\n            <svg class=\"icon-trash\" data-book-id=\"${_id}\" width=\"17\" height=\"17\">\n              <use href=\"${svgTrashIcon}#icon-trash\"></use>\n            </svg>\n          </button>\n        </article>\n        `;\n    })\n    .join('');\n}\n\n//  Код проверяет условия, по которым будут отображаться книги.\n// Если booksInShopList будет равен нулю, то список покупок будет пуст.\n// В таком случае будет соответсвующая разметка с сообщением, что список покупок пуст.\n\nfunction isEmpty() {\n  if (booksInShopList.length > 0) {\n    window.onload = function () {\n      renderBooks(booksInShopList.slice(0, numberPage));\n    };\n    window.onresize = function () {\n      renderBooks(booksInShopList.slice(0, numberPage));\n    };\n  } else {\n    listIsEmpty.innerHTML = `\n      <div class=\"shop-card-empty\">\n      <p class=\"shop-card-empty-text\">\n        This page is empty, add some books and proceed to order.\n      </p>\n      <img class=\"shop-card-empty-picture\" src=\"${emptyListStubImage}\" alt=\"Shop is Empty\">\n      </div>\n      <img class=\"shop-card-empty-picture\" src=\"${emptyListStubImage}\" alt=\"Shop is Empty\">\n      </div>\n    `;\n  }\n}\n\nisEmpty();\n\nfunction removeBook(bookId) {\n  const index = booksInShopList.findIndex(book => book._id === bookId);\n  if (index !== -1) {\n    booksInShopList.splice(index, 1);\n    renderBooks(booksInShopList);\n    localStorage.setItem('books', JSON.stringify(booksInShopList));\n  }\n}\n","export default function () {\n  return {\n    // Shoppin\n      //apple\n    appleBooksIconPath: new URL(\n      '../images/shopping-list/apple-books.png',\n        import.meta.url)\n        .href,\n      \n    //bookshop\n    bookShopIconPath: new URL('../images/shopping-list/book-shop.png', import.meta.url)\n      .href,\n\n    //amazon\n    amazonIconPath: new URL('../images/shopping-list/amazon.png', import.meta.url).href,\n\n    // Empty\n    emptyListStubImage: new URL('../images/shopping-list/shoppingbook1.png', import.meta.url)\n      .href,\n\n    // SVG\n    svgTrashIcon: new URL('../svgsprite/symbol-defs.svg#icon-trash', import.meta.url),\n  };\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","defineProperty","module","exports","value","default","arr","Array","isArray","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","obj","parcelRequire","__esModule","len","arr2","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","register","JSON","parse","$111a013c31e2261e$exports","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","$9124d4922a154468$exports","getBundleURL","resolve","$183fc3e3e85a0c47$exports","$9cb8788334c75adf$exports","$51923c784705c98c$exports","$298c6b805e6c4061$exports","$399cd7aec2522034$var$ref","appleBooksIconPath","URL","href","bookShopIconPath","amazonIconPath","emptyListStubImage","svgTrashIcon","$399cd7aec2522034$var$appleBooksIconPath","$399cd7aec2522034$var$bookShopIconPath","$399cd7aec2522034$var$amazonIconPath","$399cd7aec2522034$var$svgTrashIcon","$399cd7aec2522034$var$emptyListStubImage","$399cd7aec2522034$var$booksInShopList","localStorage","getItem","Math","ceil","$399cd7aec2522034$var$startIndex","$399cd7aec2522034$var$renderBooks","allBooksInShopList1","map","param","_id","title","author","description","list_name","book_image","amazon_product_url","_buy_links","$parcel$interopDefault","buy_links","apple","bookshop","concat","join","window","onload","onresize","listIsEmpty","innerHTML"],"version":3,"file":"shopping-list.84e1f9aa.js.map"}